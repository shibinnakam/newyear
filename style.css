body {
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: #000814;
    position: relative;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

body::before {
    content: '';
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background-image: 
        radial-gradient(circle at 20% 30%, #ff0 2px, transparent 2px),
        radial-gradient(circle at 80% 20%, #f0f 2px, transparent 2px),
        radial-gradient(circle at 50% 10%, #0ff 2px, transparent 2px),
        radial-gradient(circle at 10% 80%, #0f0 2px, transparent 2px),
        radial-gradient(circle at 90% 70%, #f00 2px, transparent 2px);
    background-size: 300px 300px;
    animation: fireworks 2s infinite alternate;
    z-index: -1;
}

@keyframes fireworks {
    0% { opacity: 0.3; transform: scale(1); }
    100% { opacity: 1; transform: scale(1.1); }
}

.envelope-container {
    perspective: 1000px;
}

.envelope {
    width: 600px;
    height: 400px;
    background-color: #e6eef5;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    border: 10px solid transparent;
    border-image: repeating-linear-gradient(
        45deg,
        #d12c5c,
        #d12c5c 20px,
        transparent 20px,
        transparent 40px,
        #1b4c9a 40px,
        #1b4c9a 60px,
        transparent 60px,
        transparent 80px
    ) 10;
    transform: rotate(-5deg);
}

.airmail-sticker {
    position: absolute;
    top: 40px;
    left: 40px;
    width: 150px;
    height: 80px;
    background-color: #4a5db4;
    display: flex;
    justify-content: center;
    align-items: center;
}

.plane-icon {
    width: 80px;
    height: 40px;
    background-color: white;
    mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M448 336v-40L288 192V72.4c0-22.3-18.1-40.4-40.4-40.4s-40.4 18.1-40.4 40.4V192L48 296v40l160-48v120l-48 32v32l88-24 88 24v-32l-48-32V288l160 48z"/></svg>') no-repeat center;
    -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M448 336v-40L288 192V72.4c0-22.3-18.1-40.4-40.4-40.4s-40.4 18.1-40.4 40.4V192L48 296v40l160-48v120l-48 32v32l88-24 88 24v-32l-48-32V288l160 48z"/></svg>') no-repeat center;
}

.stamp {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 100px;
    height: 120px;
    background-color: #8fb1e8;
    border: 4px solid white;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    /* Wavy edge placeholder */
    filter: drop-shadow(0 0 2px rgba(0,0,0,0.2));
}

.stamp::after {
    content: '';
    position: absolute;
    top: -8px; left: -8px; right: -8px; bottom: -8px;
    background-image: radial-gradient(circle, transparent 4px, white 4px);
    background-size: 16px 16px;
    z-index: -1;
}

.flower {
    width: 100%;
    height: 100%;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23d12c5c" d="M50 50 Q60 20 50 10 Q40 20 50 50 Q80 40 90 50 Q80 60 50 50 Q60 80 50 90 Q40 80 50 50 Q20 60 10 50 Q20 40 50 50"/></svg>');
    background-repeat: no-repeat;
    background-position: center;
}

.postmark {
    position: absolute;
    top: 80px;
    right: 110px;
    opacity: 0.6;
}

.waves {
    width: 150px;
    height: 60px;
    background-image: repeating-linear-gradient(
        transparent,
        transparent 8px,
        #555 8px,
        #555 10px
    );
    mask: radial-gradient(circle at center, black 50%, transparent 100%);
}

.circle {
    position: absolute;
    bottom: -40px;
    right: -20px;
    width: 80px;
    height: 80px;
    border: 2px solid #555;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 10px;
    color: #555;
    font-weight: bold;
    transform: rotate(15deg);
}

.address {
    position: absolute;
    bottom: 80px;
    left: 80px;
    font-family: 'Courier New', Courier, monospace;
    font-size: 24px;
    color: #333;
    line-height: 1.5;
}

.address p {
    margin: 0;
}

.tap-here {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(211, 44, 92, 0.9);
    color: white;
    padding: 15px 30px;
    border-radius: 50px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    transition: transform 0.3s, background-color 0.3s;
    animation: pulse 2s infinite;
}

.tap-here:hover {
    background-color: #b0244d;
    transform: translate(-50%, -50%) scale(1.1);
}

@keyframes pulse {
    0% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.05); }
    100% { transform: translate(-50%, -50%) scale(1); }
}

.letter-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s, visibility 0.5s;
    z-index: 1000;
}

.letter-overlay.active {
    opacity: 1;
    visibility: visible;
}

.letter-content {
    max-width: 90%;
    max-height: 90%;
    transform: translateY(50px);
    transition: transform 0.5s;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

.letter-overlay.active .letter-content {
    transform: translateY(0);
}

.letter-content img {
    max-width: 100%;
    max-height: 90vh;
    box-shadow: 0 0 50px rgba(255,255,255,0.2);
    border-radius: 10px;
    transition: opacity 1.5s ease-in-out;
}

#main-photo {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}

#main-photo.show {
    opacity: 1;
    pointer-events: auto;
}

#main-letter.fade-out {
    opacity: 0;
}

.next-btn {
    position: absolute;
    right: -60px;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.2);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    color: white;
    font-size: 24px;
    transition: background 0.3s, transform 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(5px);
}

.next-btn:hover {
    background: rgba(255, 255, 255, 0.4);
    transform: translateY(-50%) scale(1.1);
}

@media (max-width: 768px) {
    .envelope {
        width: 90vw;
        height: 60vw;
        max-height: 70vh;
        border-width: 6px;
        transform: rotate(-2deg);
    }

    .airmail-sticker {
        top: 20px;
        left: 20px;
        width: 100px;
        height: 50px;
    }

    .plane-icon {
        width: 50px;
        height: 25px;
    }

    .stamp {
        top: 10px;
        right: 10px;
        width: 60px;
        height: 80px;
    }

    .postmark {
        top: 50px;
        right: 60px;
    }

    .waves {
        width: 100px;
        height: 40px;
    }

    .circle {
        width: 50px;
        height: 50px;
        font-size: 8px;
        bottom: -25px;
        right: -10px;
    }

    .address {
        bottom: 40px;
        left: 40px;
        font-size: 16px;
    }

    .tap-here {
        padding: 10px 20px;
        font-size: 14px;
    }

    .next-btn {
        right: 10px;
        bottom: 20px;
        top: auto;
        transform: none;
        background: rgba(0, 0, 0, 0.6);
    }

    .next-btn:hover {
        transform: scale(1.1);
    }

    .letter-content {
        max-width: 95%;
        max-height: 95%;
    }

    .letter-content img {
        max-height: 80vh;
    }
}

@media (max-width: 480px) {
    .address {
        font-size: 12px;
        bottom: 30px;
        left: 30px;
    }

    .airmail-sticker {
        width: 80px;
        height: 40px;
        top: 15px;
        left: 15px;
    }

    .plane-icon {
        width: 40px;
        height: 20px;
    }

    .stamp {
        width: 50px;
        height: 70px;
    }
}
